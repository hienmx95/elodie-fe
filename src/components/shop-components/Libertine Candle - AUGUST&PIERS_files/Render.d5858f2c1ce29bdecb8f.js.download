(window.klaviyoOnsiteJSONP=window.klaviyoOnsiteJSONP||[]).push([[7],{"../forms/src/Client/Components/FormComponents/Label.tsx":function(e,t,o){"use strict";var n=o("../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js"),r=o.n(n),i=o("../../node_modules/preact/compat/dist/compat.module.js"),a=o("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=o("../forms/src/Client/Components/ResetElements/index.tsx");const s=["children"],c=Object(a.c)(l.g).withConfig({displayName:"Label__StyledLabel",componentId:"sc-1rnoozl-0"})(["color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;padding-bottom:6px;"],({theme:{inputStyles:{textStyles:e}}})=>e.color,({theme:{inputStyles:{textStyles:e}}})=>e.fontFamily,({theme:{inputStyles:{textStyles:e}}})=>e.fontSize,({theme:{inputStyles:{textStyles:e}}})=>e.labelFontWeight,({theme:{inputStyles:{textStyles:e}}})=>e.letterSpacing);t.a=e=>{let{children:t}=e,o=r()(e,s);return t?i.default.createElement(c,o," ",t):null}},"../forms/src/Client/Components/FormComponents/ValidationMessage.tsx":function(e,t,o){"use strict";o("../../node_modules/core-js/modules/es6.regexp.replace.js");var n=o("../../node_modules/preact/compat/dist/compat.module.js"),r=o("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=o("../forms/node_modules/react-redux/es/index.js"),a=o("../forms/src/Client/Components/ResetElements/index.tsx"),l=o("../forms/src/Client/formValidation/isRequired.ts"),s=o("../forms/src/Client/formValidation/email.ts"),c=o("../forms/src/Client/formValidation/date.ts"),d=o("../forms/src/Client/formValidation/phoneNumber.ts"),m=o("../forms/src/Constants/components.ts"),u=o("../forms/src/NewStore/index.ts");const p=Object(r.c)(a.b).withConfig({displayName:"ValidationMessage__Container",componentId:"sc-ja3t6w-0"})(["width:100%;position:relative;"]),f=Object(r.c)(a.b).withConfig({displayName:"ValidationMessage__ValidationContainer",componentId:"sc-ja3t6w-1"})(["border-radius:4px;box-shadow:1px 1px 4px 0 rgba(0,0,0,0.26);border:1px solid ",";background-color:rgb(248,236,233);&:after,&:before{content:'';display:block;position:absolute;width:0;height:0;border-style:solid;}&:after{",";left:8px;border-width:8px;}&:before{border-width:9px;left:7px;",";}"],({theme:e})=>e.inputStyles.textStyles.errorColor,({$validateTop:e})=>e?"\n        bottom: -15px;\n        border-color: rgb(248, 236, 233) transparent transparent transparent;\n      ":"\n        top: -15px;\n        border-color: transparent transparent rgb(248, 236, 233) transparent;\n    ",({$validateTop:e,theme:t})=>e?`\n        bottom: -17px;\n        border-color: ${t.inputStyles.textStyles.errorColor} transparent transparent transparent;\n      `:`\n        top: -17px;\n        border-color: transparent transparent ${t.inputStyles.textStyles.errorColor} transparent;\n    `),b=Object(r.c)(a.b).withConfig({displayName:"ValidationMessage__ValidationContainerOuter",componentId:"sc-ja3t6w-2"})(["background-color:white;position:absolute;z-index:1;",";right:0;border-radius:4px;-webkit-animation:fadein 0.4s;-moz-animation:fadein 0.4s;-ms-animation:fadein 0.4s;-o-animation:fadein 0.4s;animation:fadein 0.4s;@keyframes fadein{from{opacity:0;}to{opacity:1;}}@-moz-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-webkit-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-ms-keyframes fadein{from{opacity:0;}to{opacity:1;}}"],({$validateTop:e})=>e?"bottom: 47px":"top: 9px"),h=Object(r.c)(a.i).withConfig({displayName:"ValidationMessage__FormStyledValidationMessage",componentId:"sc-ja3t6w-3"})(["font-size:14px;padding:8px;font-family:",";color:",";"],({theme:e})=>e.inputStyles.textStyles.fontFamily,({theme:e})=>e.inputStyles.textStyles.errorColor);t.a=({formVersionCId:e,componentInstance:t,componentAriaID:o})=>{const r=Object(i.c)(t=>u.q.getFormVersionFormTypeDirection(t,u.u.getOpenFormVersionFormVersionId(t,e))),a=!(null==r||!r.startsWith("BOTTOM"));return n.default.createElement(p,null,(null==t?void 0:t.validationErrorType)&&n.default.createElement(b,{$validateTop:a},n.default.createElement(f,{$validateTop:a},n.default.createElement(h,{role:"alert",id:o},(({validationErrorType:e,metadata:t})=>{var o;switch(e){case l.b:return"This field is required";case s.b:return"Please enter a valid email address";case c.b:return`Please enter a valid date format (${null==(o=m.e.find(({value:e})=>JSON.stringify(e)===JSON.stringify(null==t?void 0:t.format)))?void 0:o.label.replace(/ /g,(null==t?void 0:t.delimiter)||"/")})`;case d.b:return"Please enter a valid phone number";default:return""}})(t)))))}},"../forms/src/Client/Components/ResetElements/CleaveInput.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("../../node_modules/@babel/runtime/helpers/extends.js"),r=o.n(n),i=o("../../node_modules/preact/compat/dist/compat.module.js"),a=o("../forms/src/Constants/components.ts");const l=i.default.lazy(()=>o.e(16).then(o.t.bind(null,"../../node_modules/cleave.js/react.js",7))),s=e=>i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null)},i.default.createElement(l,r()({},e,{className:`needsclick ${e.className} ${a.o}`})))},"../forms/src/Client/Components/ResetElements/index.tsx":function(e,t,o){"use strict";o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return u})),o.d(t,"a",(function(){return p})),o.d(t,"h",(function(){return f})),o.d(t,"e",(function(){return b})),o.d(t,"i",(function(){return h})),o.d(t,"j",(function(){return g})),o.d(t,"f",(function(){return y})),o.d(t,"d",(function(){return I})),o.d(t,"k",(function(){return x})),o.d(t,"g",(function(){return v}));var n=o("../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js"),r=o.n(n),i=o("../../node_modules/@babel/runtime/helpers/extends.js"),a=o.n(i),l=o("../../node_modules/preact/compat/dist/compat.module.js"),s=o("../forms/src/Constants/components.ts");o("../forms/src/Client/Components/ResetElements/reset.scss");const c=["tabIndex","className","alt"],d=["tabIndex","className","alt"],m=l.default.forwardRef((e,t)=>l.default.createElement("div",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}))),u=l.default.forwardRef((e,t)=>l.default.createElement("form",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}))),p=l.default.forwardRef((e,t)=>l.default.createElement("button",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}),e.children)),f=l.default.forwardRef((e,t)=>l.default.createElement("p",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}))),b=l.default.forwardRef((e,t)=>l.default.createElement("img",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}))),h=l.default.forwardRef((e,t)=>l.default.createElement("span",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}))),g=l.default.forwardRef((e,t)=>l.default.createElement("svg",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`}))),y=l.default.forwardRef((e,t)=>l.default.createElement("input",a()({ref:t},e,{className:`notranslate needsclick ${e.className} ${s.o}`}))),I=e=>{let{tabIndex:t,className:o,alt:n}=e,i=r()(e,c);return l.default.createElement(p,{type:"button",tabIndex:t,className:o},l.default.createElement(b,a()({alt:n},i)))},x=e=>{let{tabIndex:t,className:o}=e,n=r()(e,d);return l.default.createElement(p,{tabIndex:t,className:o},l.default.createElement(g,a()({role:"img"},n),n.children))},v=l.default.forwardRef((e,t)=>l.default.createElement("label",a()({ref:t},e,{className:`needsclick ${e.className} ${s.o}`})))},"../forms/src/Client/Render.tsx":function(e,t,o){"use strict";o.r(t);var n=o("../../node_modules/preact/compat/dist/compat.module.js"),r=o("../forms/node_modules/react-redux/es/index.js"),i=o("../forms/src/NewStore/store.ts"),a=o("../../node_modules/@babel/runtime/helpers/extends.js"),l=o.n(a),s=o("../../node_modules/react-portal/es/PortalWithState.js"),c=(o("../../node_modules/core-js/modules/es6.regexp.to-string.js"),o("../../node_modules/core-js/modules/es6.array.iterator.js"),o("../../node_modules/core-js/modules/web.dom.iterable.js"),o("../../node_modules/styled-components/dist/styled-components.browser.esm.js")),d=o("../forms/src/Constants/defaultTheme/view.ts"),m=o("../forms/src/Client/Components/ResetElements/index.tsx"),u=o("../forms/src/Constants/formTypes.ts");var p=o("../forms/src/Constants/designer.ts");var f=o("../../node_modules/lodash-es/uniqueId.js"),b=(o("../../node_modules/core-js/modules/es6.array.sort.js"),o("../forms/src/NewStore/index.ts")),h=o("../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js"),g=o.n(h),y=o("../forms/src/Constants/actions.ts"),I=o("../forms/src/Utils/debug.ts");class x{constructor({formVersionCId:e,actionId:t}){this.currentHandlerStep="INSTANTIATED",this.formActionType=void 0,this.actionId=void 0,this.formVersionCId=void 0,this.formAction=void 0,this.formId=void 0,this.companyId=void 0,this.actionId=t,this.formVersionCId=e,this.formAction=b.b.actionSelectById(i.a.getState(),t);const o=i.a.getState();this.formId=b.u.getOpenFormVersionFormId(o,e),this.companyId=b.e.getKlaviyoCompanyId(o)}runAction(){return this.currentHandlerStep="PREHANDLER",new Promise(e=>e()).then(e=>this.__preHandler(e)).then(e=>(this.currentHandlerStep="HANDLER",e)).then(e=>this.__handler(e)).then(e=>(this.currentHandlerStep="POSTHANDLER",e)).then(e=>this.__postHandler(e)).catch(e=>this.__errorHandler(e))}__preHandler(e){}__handler(e){}__postHandler(e){}__errorHandler(e){Object(I.a)(e.toString(),{formActionType:this.formActionType,currentHandlerStep:this.currentHandlerStep})}}const v=["isSubmit"];class w extends x{constructor(e){let{isSubmit:t}=e;super(g()(e,v)),this.isSubmit=void 0,this.isSubmit=t,this.formActionType=y.a}__handler(){return i.a.dispatch(b.u.closeForm({formVersionCId:this.formVersionCId,logMetric:!this.isSubmit}))}}w.formActionType=y.a;var C=w,S=o("../forms/src/Utils/errorTypes.ts"),O=o("../forms/src/Utils/promise.ts"),j=o("../forms/src/Utils/onsiteApi/learnq.ts"),k=o("../forms/src/NewStore/logMetricAsync/actions.ts");var $=()=>{},_={baseStyle:({theme:e,disabled:t})=>Object(c.b)(["cursor:",";font-family:",";text-decoration:none;:hover{text-decoration:",";}"],t?"default":"pointer",e.klFontFamily,!t&&"underline"),variants:{default:({theme:e,disabled:t})=>Object(c.b)(["color:",";font-size:",";font-weight:",";"],t?e.klGray:e.klPrimary,e.klFontMedium,e.fontWeightNormal),dataTable:({theme:e,disabled:t})=>Object(c.b)(["color:",";font-size:",";font-weight:",";"],t?e.klGray:e.klPrimary,e.klFontMedium,e.fontWeightSemibold),dataTableSubdued:({theme:e,disabled:t})=>Object(c.b)(["color:",";font-size:",";font-weight:",";:hover{color:",";}"],t?e.klGray:e.klGrayDarkest,e.klFontMedium,e.fontWeightSemibold,!t&&e.klGrayDarkest),caption:({theme:e,disabled:t})=>Object(c.b)(["color:",";font-size:",";font-weight:",";"],t?e.klGray:e.klPrimary,e.klFontSmall,e.fontWeightNormal),captionDanger:({theme:e,disabled:t})=>Object(c.b)(["color:",";font-size:",";font-weight:",";:hover{color:",";}"],t?e.klGray:e.klDanger,e.klFontSmall,e.fontWeightNormal,e.klDanger)}};c.c.a.withConfig({displayName:"Link__StyledLink",componentId:"sc-16x1a8g-0"})(["",";",";"],_.baseStyle,({type:e="default"})=>_.variants[e]);const E=["className","iconName","iconSize","display","prefix","rotate","color"];var T=Object(c.c)(e=>{let{className:t,iconName:o,prefix:r="kl",rotate:i=0}=e,a=g()(e,E);$("Icon");const s=`${t} ${r} ${r}-${o} ${0!==i?`${r}-rotate-${i}`:""}`.trim();return n.default.createElement("i",l()({role:"img",className:s},a))}).withConfig({displayName:"Icon__StyledIcon",componentId:"sc-t6tzq9-0"})(["&:before{font-size:",";display:",";",";}"],e=>e.iconSize||e.theme.klFontMedium,e=>e.display||"inline-block",({color:e,theme:t})=>e?"color: "+t[e]:"");Object(c.c)(e=>n.default.createElement(T,e)).withConfig({displayName:"validations__LinkIcon",componentId:"sc-1qgkl04-0"})(["padding-left:",";"],({theme:e})=>e.spacingXXSmall);var V=o("../forms/src/Constants/metrics.ts"),F=o("../../node_modules/unfetch/dist/unfetch.mjs"),N=o("../config/lib/client.json");const D=`${N.API.url}${N.API.submitToListPath}`;var A=o("../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),M=o("../forms/src/Sentry.tsx"),W=o("../forms/src/Utils/camelizeKeys.ts");const z=N.API.url+"/ajax/sms/subscribe_unique_id";var P=class extends x{constructor(e){super(e),this.hiddenFieldsComponentId=void 0,this.composedFields=void 0;const t=i.a.getState();this.hiddenFieldsComponentId=b.i.getComponentIdByActionId(t,e.actionId),this.composedFields=b.u.getComposedFields(t,this.formVersionCId,this.hiddenFieldsComponentId)}async __preHandler(){const e=await i.a.dispatch(b.u.validateOpenFormVersion({formVersionCId:this.formVersionCId}));if(Object(A.e)(e)){const{components:t}=e.payload;if(t.some(({valid:e})=>!e))throw new S.c({type:"form"})}return!0}__requestUniqueID(){(e=>{const t={method:"POST",headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(Object(W.b)(e))};return Object(F.a)(z,t).then(e=>{if(e.status>=500)throw Error("Error sending request: "+e.url);return e}).then(e=>e.json()).then(e=>Object(W.a)(e))})({companyId:this.companyId,form_id:this.formId,email:this.composedFields.$email}).then(({data:{uniqueId:e}})=>{void 0!==e&&i.a.dispatch(b.e.slice.actions.setSmsSubscriptionUniqueId(e))}).catch(()=>{})}__errorHandler(e){const{composedFields:t,formId:o,companyId:n,formAction:r}=this;if(x.prototype.__errorHandler.call(this,e),(e=>[S.a,S.c].some(t=>e instanceof t))(e))throw e;i.a.dispatch(b.u.updateCurrentView({id:this.formVersionCId,changes:{showErrorView:!0}})),i.a.dispatch(Object(k.a)({metric:V.c,formId:o,companyId:n,submittedFields:t,listId:null==r?void 0:r.listId})),M.a.captureException(e,{tags:{onSubmit:!0},extra:{submitAction:!0,formId:this.formId,companyId:this.companyId}})}};var R=class extends P{__handler(){const e=i.a.getState();Object(j.a)(this.composedFields);const t=b.u.getSubscriptionOnlyComponentData(e,this.formVersionCId);return this.composedFields=Object.assign({},this.composedFields,t||{}),b.i.anyComponentHasSubscribeToSMSAction(e,b.u.getOpenFormVersionFormVersionId(e,this.formVersionCId))&&this.__requestUniqueID(),this.__submitToList()}__submitHandlerCheck({success:e,errors:t=[]}){const{composedFields:o,formId:n,companyId:r,formAction:a}=this;if(!e&&"List does not exist."!==t[0])throw i.a.dispatch(b.u.updateCurrentView({id:this.formVersionCId,changes:{showErrorView:!0}})),i.a.dispatch(Object(k.a)({metric:V.c,formId:n,companyId:r,submittedFields:o,listId:a.listId})),new S.a(t.join(" | "))}__submitToList(){const{composedFields:e,formId:t,companyId:o}=this;return(e=>Object(F.a)(D,{method:"POST",headers:{"Access-Control-Allow-Headers":"*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:e.toString()}))(this.__makePOSTBody({composedFields:e})).then(e=>e.json()).then(n=>n.success&&this.formAction.actionType?(i.a.dispatch(b.l.slice.actions.successForm({formId:t,successActionType:this.formAction.actionType})),Object(O.b)(200,i.a.dispatch(Object(k.a)({metric:V.h,logCustomEvent:!0,formId:t,companyId:o,submittedFields:e,action_type:"Submit Form"}))).then(()=>n).catch(()=>n)):n)}__makePOSTBody({composedFields:e}){const t=new Date,o=Object.assign({},e,"object"==typeof window.Shopify&&window.Shopify.shop?{services:JSON.stringify({shopify:{source:"form"}})}:{}),{$exchange_id:n}=Object(j.c)(),r=Object.assign({g:this.formAction.listId,$fields:Object.keys(o).toString(),$list_fields:Object.keys(o).filter(e=>Array.isArray(o[e])).toString(),$timezone_offset:-t.getTimezoneOffset()/60},o,n?{$exchange_id:n}:{}),i=new URLSearchParams;return Object.keys(r).forEach(e=>{const t=r[e];return Array.isArray(t)?t.forEach(t=>i.append(e,t)):i.set(e,t)}),i}};class H extends R{__postHandler({success:e,errors:t=[]}){return b.u.openFormVersionSelectIds(i.a.getState()).includes(this.formVersionCId)&&this.formAction.viewId?(this.__submitHandlerCheck({success:e,errors:t}),i.a.dispatch(b.u.updateCurrentView({id:this.formVersionCId,changes:{currentViewId:this.formAction.viewId}}))):null}}H.formActionType=y.f;var B=H;o("../../node_modules/core-js/modules/es6.regexp.replace.js");const L=["isSubmit"];class q extends x{constructor(e){var t,o;let{isSubmit:n}=e;super(g()(e,L)),this.redirectUrl=void 0,this.newWindow=void 0,this.isSubmit=void 0,this.redirectUrl=(null==(t=this.formAction.data)?void 0:t.redirectUrl)||"about:blank",this.newWindow=!(null==(o=this.formAction.data)||!o.newWindow)&&this.formAction.actionType===y.b,this.isSubmit=!!n,this.formActionType=y.b}__redirectUrl(){const e=this.redirectUrl.replace(/^javascript:/,"");if(this.newWindow&&this.formAction.actionType===y.b){const t=window.open(e,"_blank");null==t||t.focus()}else window.location.assign(e)}__handler(){const{formId:e,newWindow:t,formVersionCId:o}=this;this.formAction.actionType===y.b&&i.a.dispatch(b.l.slice.actions.successForm({formId:e,successActionType:y.b}));const n=b.u.getOpenFormVersionSentSubmitMetric(i.a.getState(),o),r=i.a.dispatch(Object(k.a)({metric:V.g,logTelemetric:!this.isSubmit&&!n,logCustomEvent:!0,formId:this.formId,companyId:this.companyId,action_type:"Go to URL",destination_url:this.redirectUrl}));return t?(this.__redirectUrl(),r):Object(O.b)(200,r).then(()=>this.__redirectUrl()).catch(()=>this.__redirectUrl())}}q.formActionType=y.b;var U=q;class G extends R{__postHandler({success:e,errors:t=[]}){this.__submitHandlerCheck({success:e,errors:t});const{formVersionCId:o,actionId:n}=this;return new U({formVersionCId:o,actionId:n,isSubmit:!0}).runAction()}}G.formActionType=y.e;var J=G;class K extends R{__postHandler({success:e,errors:t=[]}){this.__submitHandlerCheck({success:e,errors:t});const{formVersionCId:o,actionId:n}=this;return new C({formVersionCId:o,actionId:n,isSubmit:!0}).runAction()}}K.formActionType=y.d;var Q=K;const Y=e=>"This form is now set to display on Mobile devices only and subscribers will be routed to the list set on the "+e.toLowerCase()+" keyword.",X=e=>e+" Keyword",Z=e=>e+" Message";Y("Opt-in"),X("Opt-in"),Z("Opt-in"),Y("Subscribe"),X("Subscribe"),Z("Subscribe");class ee extends x{constructor(e){var t,o,n;super(e),this.toPhoneNumber=void 0,this.optInMessage=void 0,this.optInKeyword=void 0,this.toPhoneNumber=null==(t=this.formAction.data)?void 0:t.toPhoneNumber,this.optInMessage=(null==(o=this.formAction.data)?void 0:o.optInMessage)||"Send this text to subscribe to SMS updates!",this.optInKeyword=(null==(n=this.formAction.data)?void 0:n.optInKeyword)||"JOIN",this.formActionType=y.g}__handler(){const e=b.e.getSmsSubscriptionUniqueId(i.a.getState()),t=function(e){return e&&6===e.length}(e)?`${this.optInKeyword}:${e}`:this.optInKeyword,o=`sms:${this.toPhoneNumber}?&body=${encodeURIComponent(`${this.optInMessage} (ref:${t})`)}`;i.a.dispatch(b.u.closeForm({formVersionCId:this.formVersionCId}));const n=i.a.dispatch(Object(k.a)({metric:V.i,logCustomEvent:!0,formId:this.formId,companyId:this.companyId,action_type:"Subscribe Via SMS",sms_keyword:this.optInKeyword,destination_url:o}));return Object(O.b)(200,n).then(()=>window.location.assign(o)).catch(()=>window.location.assign(o))}}ee.formActionType=y.g;var te=ee;class oe extends P{__handler(){const{formVersionCId:e,formAction:t,composedFields:o,formId:n,companyId:r}=this,a=i.a.getState();if(!b.u.openFormVersionSelectIds(a).includes(e)||null==t||!t.viewId)return null;Object(j.a)(o);const l=b.u.getOpenFormVersionFormVersionId(a,e);b.i.anyComponentHasSubscribeToSMSAction(a,l)&&this.__requestUniqueID();return!!Object.keys(b.u.getInputComponentFields(a,e)).length&&b.i.shouldTriggerProfileSubmitMetric(a,l)&&i.a.dispatch(Object(k.a)({metric:V.h,logCustomEvent:!0,formId:n,companyId:r,submittedFields:o,action_type:"Submit Form"})),i.a.dispatch(b.u.updateCurrentView({id:e,changes:{currentViewId:t.viewId}}))}}oe.formActionType=y.h;var ne=oe;const re={[C.formActionType]:C,[B.formActionType]:B,[ne.formActionType]:ne,[U.formActionType]:U,[Q.formActionType]:Q,[J.formActionType]:J,[te.formActionType]:te},ie=({actionId:e,formVersionCId:t})=>{const o=i.a.getState(),n=b.b.getActionType(o,e),r=b.u.getInputComponentFields(o,t),a=r.$email||r.$phone_number;return n!==B.formActionType||a?re[n]:ne};var ae=o("../../node_modules/lodash-es/merge.js"),le=o("../forms/src/Constants/defaultTheme/formComponent.ts"),se=o("../forms/src/Constants/components.ts");o("../forms/src/Client/Components/FormComponents/RichText/editorCSS.scss");var ce=c.c.div.attrs({className:`${se.o} ${se.l}`}).withConfig({displayName:"QuillContainer__StyledQuillContainer",componentId:"sc-nxgzcv-0"})(["&&&&{width:100%;.ql-editor{align-self:flex-start;padding:0;}.ql-container{border:none;p,a{font-size:14px;}}.ql-clipboard{display:none;}}"]);var de=({componentId:e})=>{const t=Object(r.c)(t=>b.i.getComponentQuillHTML(t,e));return t?n.default.createElement(ce,{dangerouslySetInnerHTML:{__html:t}}):null};const me=["children","actionId","formVersionCId"];var ue=e=>{let{children:t,actionId:o,formVersionCId:i}=e,a=g()(e,me);const[l,s]=Object(n.useState)(!1),c=Object(r.c)(e=>o?b.b.getAriaPropsFromFormAction(e,o):{});return t(Object.assign({onClick:o?()=>{if(o){const e=ie({actionId:o,formVersionCId:i}),t=new e({actionId:o,formVersionCId:i});y.c.has(e.formActionType)&&s(!0),t.runAction().catch(()=>{s(!1);const e=document.querySelector(`.klaviyo-form-version-cid_${i} [aria-invalid="true"]`);e&&e.focus()})}}:void 0,handlingFormAction:l,ariaProps:c},a))},pe=({$showSpinner:e,$showOverlay:t})=>e?`\n      ${t?"&:before {\n              content: '';\n              display: block;\n              top: 0;\n              left: 0;\n              position: absolute;\n              background-color: black;\n              width: 100%;\n              height: 100%;\n              opacity: 0.5;\n              }":""}\n      &:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 20px;\n        height: 20px;\n        margin-top: -10px;\n        margin-left: -10px;\n        border-radius: 50%;\n        border: 3px solid transparent;\n        border-top-color: #fff;\n        border-left-color: #fff;\n        animation: spinner 1s linear infinite;\n      }\n\n      @keyframes spinner {\n        to {transform: rotate(360deg);}\n      }\n      `:"";const fe=["width","hasAction"],be=()=>null,he=Object(c.c)(e=>{let{hasAction:t}=e,o=g()(e,fe);return t?n.default.createElement(m.d,o):n.default.createElement(m.e,o)}).withConfig({displayName:"Image__ImageContent",componentId:"sc-3o80ip-0"})(["&,img{max-width:100%;width:",";height:",";cursor:",";}&:focus{box-shadow:0 0 5px ",";}"],({width:e})=>e+"px",({$imageRatio:e,width:t})=>t?"auto":t*e+"px",({$showCursor:e})=>e?"pointer":"initial",({theme:e})=>e.focusColor),ge=Object(c.c)(m.b).withConfig({displayName:"Image__SpinnerContainer",componentId:"sc-3o80ip-1"})(["position:relative;display:flex;align-items:center;width:100%;height:auto;",";"],pe),ye=Object(c.c)(m.b).withConfig({displayName:"Image__ImageContainer",componentId:"sc-3o80ip-2"})(["display:flex;align-items:center;width:100%;height:auto;"]);var Ie=({formVersionCId:e,componentId:t})=>{const o=Object(r.c)(b.e.isDesignWorkflow),i=Object(r.c)(e=>b.i.getComponentStyling(e,t)),a=Object(r.c)(e=>b.i.getComponentImage(e,t)),s=Object(r.c)(e=>b.i.getComponentAltText(e,t)),c=Object(r.c)(e=>b.i.getComponentActionId(e,t));return n.default.createElement(ye,null,o&&!a?n.default.createElement(be,null):a&&n.default.createElement(ue,{actionId:c,formVersionCId:e},({onClick:e,handlingFormAction:t,ariaProps:r})=>n.default.createElement(ge,{onClick:e,$showSpinner:t},n.default.createElement(he,l()({$imageRatio:a.height/a.width,width:i.width||100,src:a.url,alt:s,$showCursor:!!e,hasAction:!!c,tabIndex:o||!c?-1:0},r)))))},xe=o("../forms/src/Client/Components/ResetElements/CleaveInput.tsx"),ve=o("../forms/src/Client/Components/FormComponents/Label.tsx"),we=o("../forms/src/Client/Components/FormComponents/ValidationMessage.tsx");const Ce=["componentType"],Se=Object(c.c)(e=>{let{componentType:t}=e,o=g()(e,Ce);return t===se.c?n.default.createElement(xe.a,o):n.default.createElement(m.f,o)}).withConfig({displayName:"TextInput__FormStyledTextInput",componentId:"sc-1ydur12-0"})(["&&&{box-sizing:border-box;border-radius:2px;padding-left:16px;padding-right:0px;padding-top:0px;padding-bottom:0px;height:","px;text-align:left;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;background-color:",";border:1px solid;border-color:",";&:hover{border-color:",";}&:focus{border:1px solid ",";box-shadow:0 0 5px ",";}::placeholder{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;}::-moz-placeholder{line-height:","px;}::-moz-placeholder{line-height:","px;}}"],({theme:e})=>e.inputStyles.textStyles.height,({theme:e})=>e.inputStyles.textStyles.formInputTextColor,({theme:e})=>e.inputStyles.textStyles.fontFamily,({theme:e})=>e.inputStyles.textStyles.fontSize,({theme:e})=>e.inputStyles.textStyles.fontWeight,({theme:e})=>e.inputStyles.textStyles.letterSpacing,({theme:e})=>e.inputStyles.inputBackgroundColor,({valid:e,theme:t})=>t.inputStyles.border[e?"defaultColor":"errorColor"],({theme:e})=>e.inputStyles.border.activeColor,({valid:e,theme:t})=>t.inputStyles.border[e?"activeColor":"errorColor"],({theme:e})=>e.focusColor,({theme:e})=>e.inputStyles.textStyles.placeholderColor,({theme:e})=>e.inputStyles.textStyles.fontFamily,({theme:e})=>e.inputStyles.textStyles.fontSize,({theme:e})=>e.inputStyles.textStyles.fontWeight,({theme:e})=>e.inputStyles.textStyles.letterSpacing,({theme:e})=>e.inputStyles.textStyles.height,({theme:e})=>e.inputStyles.textStyles.height),Oe=Object(c.c)(m.b).withConfig({displayName:"TextInput__StyledInputContainer",componentId:"sc-1ydur12-1"})(["display:flex;flex-grow:1;flex-direction:column;align-self:flex-end;"]);var je=({formVersionCId:e,componentId:t})=>{var o;const i=Object(r.c)(b.e.isDesignWorkflow),a=Object(r.c)(o=>b.u.getOpenFormVersionComponentInstance(o,e,t)),l=Object(r.c)(e=>b.i.getComponentLabel(e,t)),s=Object(r.c)(e=>b.i.getComponentPlaceholder(e,t)),c=Object(r.c)(e=>b.i.getComponentType(e,t)),d=Object(r.c)(e=>b.i.getComponentStyling(e,t)),m=Object(r.c)(e=>b.i.getComponentFormat(e,t)),u=Object(r.c)(e=>b.i.getComponentDelimiter(e,t)),p=Object(r.c)(e=>b.i.getComponentPrefill(e,t)),h=Object(r.b)(),{current:g}=Object(n.useRef)(Object(f.a)("klaviyo_ariaid_")),[y,I]=Object(n.useState)(!1),[x,v]=Object(n.useState)(!1),[w,C]=Object(n.useState)(),S=({value:o,validate:n,hasChangedSinceLastValidation:r})=>{var i;const a=void 0!==o?o:"";C(a),I(!1),v(!!r),h(b.u.validateOpenFormVersionComponent({formVersionCId:e,componentId:t,value:c===se.c?null==(i=se.e.find(({value:e})=>JSON.stringify(e)===JSON.stringify(m)))?void 0:i.convertValue(a,u):a,validate:n}))};Object(n.useEffect)(()=>{const e=Object(j.b)();if(p&&e&&c===se.g&&!i){const{$email:t}=e;S({value:t,validate:!1})}},[]);const O=x||!1==!i||!a||void 0===a.valid||a.valid,k=c!==se.c||s&&!y?s:null==(o=se.e.find(({value:e})=>JSON.stringify(e)===JSON.stringify(m)))?void 0:o.label.replace(/ /g,u);return n.default.createElement(Oe,null,n.default.createElement(ve.a,null,l),n.default.createElement(Se,{type:(e=>{switch(e){case se.g:return"email";case se.k:return"tel";default:return"text"}})(c),name:c===se.g?"email":null,tabIndex:i?-1:0,styling:d,componentType:c,placeholder:k,"aria-label":(()=>{let e;return e=c===se.c?"date":c===se.g?"email":"text",l||s||e})(),"aria-invalid":!O,"aria-describedby":O?void 0:g,onBlur:e=>S({value:e.target.value,validate:!0,hasChangedSinceLastValidation:!1}),onChange:e=>S({value:e.target.value,validate:!1,hasChangedSinceLastValidation:!0}),onFocus:()=>I(!0),valid:O?1:0,options:c===se.c?{date:!0,datePattern:m,delimiter:u}:{delimiter:""},value:w||""}),!i&&!x&&n.default.createElement(we.a,{formVersionCId:e,componentAriaID:g,componentInstance:a}))},ke=o("../forms/src/Constants/defaultTheme/button.ts");const{THEME_KEY:$e}=ke.a,_e=Object(c.c)(m.a).withConfig({displayName:"Button__FormStyledButton",componentId:"sc-1of1qh3-0"})(["&&&{position:relative;"," background:",";border-radius:","px;border-style:",";border-color:",";border-width:","px;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;line-height:1;white-space:normal;padding-top:11px;padding-bottom:11px;text-align:center;word-break:break-word;align-self:flex-end;cursor:pointer;&:focus{box-shadow:0 0 5px ",";}"," ","}"],({theme:e})=>e[$e].fullWidth?"width: 100%;":"padding-left: 10px; padding-right: 10px;",({theme:e})=>e[$e].backgroundColor,({theme:e})=>e[$e].borderRadius,({theme:e})=>e[$e].borderStyle,({theme:e})=>e[$e].borderColor,({theme:e})=>e[$e].borderWidth,({theme:e})=>e[$e].textStyles.color,({theme:e})=>e[$e].textStyles.fontFamily,({theme:e})=>e[$e].textStyles.fontSize,({theme:e})=>e[$e].textStyles.fontWeight,({theme:e})=>e[$e].textStyles.letterSpacing,({theme:e})=>e.focusColor,({theme:e})=>!1!==e[$e].specifyHoverBackgroundColor&&`\n    &:hover {\n      background-color: ${e[$e].hoverBackgroundColor};\n      color: ${e[$e].hoverTextColor||e[$e].textColor};\n    }\n  }`,({$showSpinner:e})=>pe({$showSpinner:e}));var Ee=({componentId:e,formVersionCId:t})=>{const o=Object(r.c)(t=>b.i.componentSelectById(t,e)),i=Object(r.c)(t=>b.i.getComponentActionId(t,e)),a=Object(r.c)(b.e.isDesignWorkflow);return n.default.createElement(ue,{formVersionCId:t,actionId:i},({onClick:e,handlingFormAction:t})=>n.default.createElement(_e,{type:"button",onClick:e,$showSpinner:t,tabIndex:a?-1:0},o.data.content))};const Te=["selectorType","fillColor"],Ve=({fillColor:e})=>n.default.createElement("g",{id:"checkboxInner",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"checkbox_on",transform:"translate(3.000000, 4.000000)",fill:"#303B43"},n.default.createElement("polygon",{id:"Shape",fill:e,points:"4.45454545 9.20149254 1.11363636 5.75373134 0 6.90298507 4.45454545 11.5 14 1.64925373 12.8863636 0.5"}))),Fe=({fillColor:e})=>n.default.createElement("g",{id:"radioInner",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"Group-17-Copy",transform:"translate(4.000000, 4.000000)",fill:"#303B43"},n.default.createElement("circle",{fill:e,id:"Oval-Copy",cx:"6",cy:"6",r:"5.55555556"})));var Ne=Object(c.c)(e=>{let{selectorType:t,fillColor:o}=e,r=g()(e,Te);return n.default.createElement("svg",l()({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r),n.default.createElement("defs",null),"radio"===t?n.default.createElement(Fe,{fillColor:o}):n.default.createElement(Ve,{fillColor:o}))}).attrs(({theme:e})=>({fillColor:e.inputStyles.textStyles.formInputTextColor})).withConfig({displayName:"SelectorInner__StyledInner",componentId:"sc-mfg6zm-0"})(["input[type='radio']:checked + label > &&&,input[type='checkbox']:checked + label > &&&{display:inline-block;}&&&{display:none;position:absolute;margin:0px;}"]);const De=["selectorType","valid","backgroundColor"],Ae=({backgroundColor:e})=>n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("rect",{strokeWidth:"1",x:"0.5",y:"0.5",width:"19",height:"19",rx:"2.22222222",fill:e}))),Me=({backgroundColor:e})=>n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("circle",{strokeWidth:"1",cx:"10",cy:"10",r:"9.5",fill:e})));var We=Object(c.c)(e=>{let{selectorType:t,backgroundColor:o}=e,r=g()(e,De);return n.default.createElement("svg",l()({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r),"radio"===t?n.default.createElement(Me,{backgroundColor:o}):n.default.createElement(Ae,{backgroundColor:o}))}).attrs(({theme:e})=>({backgroundColor:e.inputStyles.inputBackgroundColor})).withConfig({displayName:"SelectorOuter__StyledOuter",componentId:"sc-ztv0y5-0"})(["stroke:",";input:focus + label > &{filter:",";stroke:",";}margin-right:8px;min-width:20px;width:auto;height:auto;"],({theme:e,valid:t})=>t?e.inputStyles.border.defaultColor:e.inputStyles.border.errorColor,({theme:e})=>`drop-shadow( 0px 0px 2px ${e.focusColor})`,({theme:e})=>e.inputStyles.border.activeColor);const ze=Object(c.c)(m.b).withConfig({displayName:"MultiInputField__Text",componentId:"sc-1x1dwze-0"})(["color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;margin-right:24px;display:flex;position:relative;top:1px;"],({theme:e})=>e.inputStyles.textStyles.color,({theme:e})=>e.inputStyles.textStyles.fontFamily,({theme:e})=>e.inputStyles.textStyles.fontSize,({theme:e})=>e.inputStyles.textStyles.fontWeight,({theme:e})=>e.inputStyles.textStyles.letterSpacing),Pe=Object(c.c)(m.g).withConfig({displayName:"MultiInputField__OptionContainer",componentId:"sc-1x1dwze-1"})(["display:flex;align-items:center;flex:",";padding-bottom:8px;cursor:pointer;word-break:break-word;max-width:100%;cursor:pointer;> *{cursor:pointer;}"],({theme:e})=>e.inputStyles.arrangement===se.a?" 1 0 100%":" 0 0 auto");var Re=({name:e,label:t,isValid:o,componentAriaID:r,componentType:i,onChange:a,tabIndex:l})=>{const{current:s}=Object(n.useRef)(Object(f.a)(e+"__")),c=i===se.m?"radio":"checkbox";return n.default.createElement(n.default.Fragment,null,n.default.createElement(m.f,{style:{position:"absolute",width:0,opacity:0},tabIndex:l,type:c,id:s,name:e,onChange:a,"aria-invalid":!o,"aria-label":t,"aria-describedby":r}),n.default.createElement(Pe,{htmlFor:s},n.default.createElement(We,{valid:o,selectorType:c,"aria-hidden":"true"}),n.default.createElement(Ne,{selectorType:c,"aria-hidden":"true"}),n.default.createElement(ze,null,t)))};const He=["selected","id","label"],Be=Object(c.c)(ve.a).withConfig({displayName:"MultiInput__StyledLabel",componentId:"sc-3eieng-0"})(["margin-right:8px;margin-bottom:8px;"]),Le=Object(c.c)(m.b).withConfig({displayName:"MultiInput__Container",componentId:"sc-3eieng-1"})(["align-self:flex-end;",";"],({theme:e})=>e.inputStyles.arrangement===se.a?"\n  display: block;\n":"\n  flex-direction: column;\n  flex-wrap: wrap;\n"),qe=Object(c.c)(m.b).withConfig({displayName:"MultiInput__AllOptionsContainer",componentId:"sc-3eieng-2"})([""," input:focus + label > svg circle,input:focus + label > svg rect{stroke:",";}"],({theme:e})=>e.inputStyles.arrangement===se.a?"\n        display: block;\n      ":"\n      display: inline-flex;\n      justify-content: flex-start;\n      flex-wrap: wrap;\n      ",({theme:e})=>e.inputStyles.activeBorderColor),Ue=({options:e,componentType:t,toggledOptionIndex:o})=>e.reduce((e,n,r)=>{let{selected:i,id:a,label:l}=n,s=g()(n,He),c=t!==se.m&&i;return o===r&&(c=!c),e.push(Object.assign({selected:c,label:l,id:a||Object(f.a)(l+"__")},s)),e},[]);var Ge=({formVersionCId:e,componentId:t})=>{const o=Object(r.c)(b.e.isDesignWorkflow),i=Object(r.c)(o=>b.u.getOpenFormVersionComponentInstance(o,e,t)),a=Object(r.c)(e=>b.i.getComponentType(e,t)),l=Object(r.c)(e=>b.i.getComponentDropdownOptions(e,t)),s=Object(r.c)(e=>b.i.getComponentFieldId(e,t)),c=Object(r.c)(e=>b.i.getComponentLabel(e,t)),d=Object(r.b)(),[m,u]=Object(n.useState)([]);Object(n.useEffect)(()=>{u(Ue({options:l,componentType:a}))},[l]);const{inputName:p,labelId:h}=Object(n.useMemo)(()=>{const e=Object(f.a)(s+"__");return{inputName:e,labelId:`kl_${e}_label`}},[]),g=o||!i||void 0===i.valid||i.valid;return n.default.createElement(Le,null,n.default.createElement(Be,{id:h},c),n.default.createElement(qe,{role:a===se.m?"radiogroup":"group","aria-labelledby":h},m.map(({label:r,id:i},l)=>n.default.createElement(Re,{key:i,name:p,label:r,isValid:g,componentType:a,componentAriaID:h,onChange:()=>(o=>{const n=Ue({options:m,componentType:a,toggledOptionIndex:o});u(n);const r=(e=>e.filter(({selected:e})=>e).map(e=>e.value||e.label))(n);d(b.u.validateOpenFormVersionComponent({formVersionCId:e,componentId:t,value:a===se.m?r.toString():r}))})(l),tabIndex:o?-1:0}))),!o&&n.default.createElement(we.a,{formVersionCId:e,componentAriaID:h,componentInstance:i}))};var Je=(e,t=(()=>n.default.createElement(n.default.Fragment,null)))=>{function o(o){const[r,i]=n.default.useState(0),a=n.default.useCallback(()=>i(e=>e<5?e+1:e),[]),l=n.default.useMemo(()=>n.default.lazy(()=>e().catch(()=>({default:()=>(a(),n.default.createElement(n.default.Fragment,null))}))),[e,r]);return n.default.createElement(n.default.Suspense,{fallback:n.default.createElement(t,null)},n.default.createElement(l,o))}return o.displayName="LazyLoader",o};const Ke=de,Qe={[se.h]:Ie,[se.p]:Ke,[se.q]:je,[se.g]:je,[se.k]:Je(()=>Promise.all([o.e(3),o.e(14),o.e(6)]).then(o.bind(null,"../forms/src/Client/Components/FormComponents/PhoneNumberInput/index.ts"))),[se.b]:Ee,[se.j]:Ge,[se.m]:Ge,[se.c]:je,[se.f]:Je(()=>Promise.all([o.e(3),o.e(5)]).then(o.bind(null,"../forms/src/Client/Components/FormComponents/Dropdown/index.ts")))},Ye=({children:e})=>e,Xe={outer:{right:"0 0 0 auto",left:"0 auto 0 0",center:"0 auto"},inner:{right:"flex-end",left:"flex-start",center:"center"}},Ze=Object(c.c)(m.b).withConfig({displayName:"FormComponent__StyledFormComponentWrapper",componentId:"sc-1gg8fea-0"})(["display:flex;justify-content:",";",";position:relative;",";"," flex:",";",";"],({$innerAlignment:e})=>Xe.inner[e]||"flex-start",({theme:{[le.a.THEME_KEY]:{padding:{top:e,right:t,bottom:o,left:n}}}})=>`\n  padding: ${e||0}px ${t||0}px ${o||0}px ${n||0}px;\n  `,({theme:{[le.a.THEME_KEY]:{blockBackgroundColor:e}}})=>e?`background-color: ${e};`:"",({$isHovering:e})=>e&&"cursor: pointer;",e=>!1!==e.$fullWidth?"1 0 0":"0 1 auto",({alignment:e,$fullWidth:t})=>!1===t&&"margin: "+(e&&Xe.outer[e]||""));var et=({componentId:e,componentPosition:t,formVersionCId:o,rowDroppableHover:i,setDragState:a,dragFinished:s})=>{const[d,m]=Object(n.useState)(!1),u=Object(n.useRef)(null),f=Object(r.b)(),h=Object(r.c)(t=>b.i.componentSelectById(t,e),(e,t)=>JSON.stringify(e)===JSON.stringify(t)),g=Object(r.c)(b.e.isDesignWorkflow),y=Object(r.c)(b.n.getActiveComponentId),{currentViewId:I}=Object(r.c)(e=>b.u.openFormVersionSelectById(e,o)),x=Object(r.c)(t=>b.i.getComponentTheme(t,e,I),(e,t)=>JSON.stringify(e)===JSON.stringify(t)),v=Qe[h.componentType],w=y===h.componentId,C=Object.assign({component:h,$fullWidth:h.data.styling.fullWidth,alignment:h.data.styling.alignment,$innerAlignment:h.data.styling.innerAlignment},g?{$active:w,$isHovering:d,onClick:()=>{f(b.n.slice.actions.setActiveSidebar({type:p.b,key:e}))},onMouseOver:()=>{s?a(!1):m(!0)},onMouseLeave:()=>m(!1),onDragStart:()=>m(!1),onDragEnd:()=>{a(!0)},ref:u}:{});return n.default.createElement(c.a,{theme:e=>Object(ae.a)({},e,x,{[le.a.THEME_KEY]:h.data.styling})},n.default.createElement(Ze,l()({},C,{"data-testid":"form-component",className:"notranslate"}),g?n.default.createElement(Ye,{active:w,componentId:e,componentPosition:t,componentRef:u.current,formVersionCId:o,isHovering:d,rowDroppableHover:i,setIsHovering:m},n.default.createElement(v,{componentId:e,formVersionCId:o})):n.default.createElement(v,{componentId:e,formVersionCId:o})))};const tt=Object(c.c)(m.b).withConfig({displayName:"Row__FormRow",componentId:"sc-1avh9u7-1"})(["display:flex;flex-direction:row;align-items:stretch;position:relative;",";"],e=>e.$hoverDirection?`\n    border-${e.$hoverDirection}: 2px;\n    border-${e.$hoverDirection}-style: solid;\n    border-${e.$hoverDirection}-color: ${e.theme.klPrimary};\n    margin-${e.$hoverDirection}: -2px;\n  `:"");var ot=({rowId:e,formVersionCId:t})=>{const o=Object(r.c)(t=>b.w.getRowComponentIds(t,e)),[i,a]=Object(n.useState)(!1),[l,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),m=(i?"top":l&&"bottom")||!1;return o.length?n.default.createElement(tt,{$hoverDirection:m,"data-testid":"form-row"},o.map((e,o)=>n.default.createElement(et,{key:e,componentId:e,componentPosition:o,formVersionCId:t,rowDroppableHover:(e,t)=>{"top"===e?a(t):s(t)},setDragState:e=>d(e),dragFinished:c})),null):null},nt=o("../forms/src/Utils/isMobile.ts");const rt=()=>null,it=Object(c.c)(m.b).withConfig({displayName:"Column__HoverTab",componentId:"sc-1rrm03f-0"})(["position:absolute;width:76px;margin-top:-24px;height:22px;margin-bottom:-22px;margin-left:-2px;background-color:",";border-radius:4px 4px 0 0;color:",";font-size:12px;line-height:22px;text-align:center;"],({theme:e,$isSelected:t})=>t?e.klPrimary:e.klGrayDark,({theme:e})=>e.klWhite),at=Object(c.c)(m.b).withConfig({displayName:"Column__HoverFrame",componentId:"sc-1rrm03f-1"})(["position:absolute;width:",";"," ",";border-radius:0px 4px 4px 4px;"],({width:e})=>e+"px",({$viewBorderWidth:e})=>`height: calc(100% - ${2*e}px);`,({theme:e,$isSelected:t})=>"box-shadow: 0 0 0 2px "+(t?e.klPrimary:e.klGrayDark)),lt=Object(c.c)(m.b).withConfig({displayName:"Column__FormColumn",componentId:"sc-1rrm03f-2"})(["display:flex;flex-direction:column;"," "," ",";width:",";"," margin-top:","px;margin-bottom:","px;margin-left:","px;margin-right:","px;"," background-color:",";"," "," ",""],({isHovering:e})=>e&&"cursor: pointer;",({isHovering:e})=>e&&"> * {cursor: pointer;}",({$minWidth:e})=>e?`min-width: ${e}px`:"",({$minWidth:e})=>e?(null==e?void 0:e.toString())+"px":"100%",({$columnMargin:e})=>`\n  margin-top: ${e.top}px;\n  margin-bottom: ${e.bottom}px;\n  margin-left: ${e.left}px;\n  margin-right: ${e.right}px;\n  `,({$columnMargin:e})=>e.top,({$columnMargin:e})=>e.bottom,({$columnMargin:e})=>e.left,({$columnMargin:e})=>e.right,({$columnPadding:e})=>`\n  padding-top: ${e.top}px;\n  padding-bottom: ${e.bottom}px;\n  padding-left: ${e.left}px;\n  padding-right: ${e.right}px;\n  `,e=>e.$backgroundColor,e=>e.$backgroundImage?`\n      background-image: ${e.$backgroundImage&&`url(${e.$backgroundImage.url})`};\n      background-repeat: no-repeat;\n      background-size: ${e.$backgroundImage&&("custom"===e.$backgroundImage.position?e.$backgroundImage.customWidth+"px;":e.$backgroundImage.position)};\n      background-position-x: ${e.$backgroundImage&&e.$backgroundImage.alignment};\n      background-position-y: ${e.$backgroundImage&&e.$backgroundImage.verticalAlignment||"center"}; `:"",({$minimumHeight:e})=>void 0!==e?`min-height: ${e}px;`:"",({$isSideImageColumn:e})=>e?"":"justify-content: center;");var st=({columnId:e,formVersionCId:t,formVersionId:o,viewId:i,sideImageExistsAndHidden:a})=>{var s,c,d,m,u,f;const h=Object(r.b)(),g=Object(n.useRef)(null),[y,I]=Object(n.useState)(!1),x=Object(r.c)(b.e.isDesignWorkflow),v=Object(r.c)(e=>b.q.getFormVersionSideImage(e,o)),w=Object(r.c)(t=>b.g.getColumnRowIds(t,e)),C=Object(r.c)(t=>b.g.columnSelectById(t,e)),S=Object(r.c)(e=>b.B.getViewTheme(e,i)),O=Object(r.c)(e=>b.n.getActiveColumnId(e)),{padding:j,minimumHeight:k}=S,$=v&&v.position===C.position,{columnMargin:_,columnPadding:E}=((e,t,o,n)=>{const r={top:0,left:0,right:0,bottom:0},i={top:0,left:0,right:0,bottom:0};return n||void 0!==o&&(e?(r.top=t&&t.top?-1*t.top:0,r.bottom=t&&t.bottom?-1*t.bottom:0,0===o?r.left=t&&t.left?-1*t.left:0:1===o&&(r.right=t&&t.right?-1*t.right:0)):0===o?i.left=(null==t?void 0:t.left)||0:1===o&&(i.right=(null==t?void 0:t.right)||0)),{columnMargin:r,columnPadding:i}})($,j,null==v?void 0:v.position,a),T=null==C||null==(s=C.data)||null==(c=s.styling)?void 0:c.sizeMultiplier,V=null==S?void 0:S.size,F=T&&V?((e,t,o)=>{const n=e/(e+1)*t;return o?n:t-n})(T,V,$):0,N=null==C||null==(d=C.data)||null==(m=d.styling)?void 0:m.backgroundImage,D=null==C||null==(u=C.data)||null==(f=u.styling)?void 0:f.backgroundColor,A=O===C.columnId,M=(null==S?void 0:S.borderStyle)&&"none"!==(null==S?void 0:S.borderStyle)&&(null==S?void 0:S.borderWidth)||0,W=Object.assign({},x&&$?{$minWidth:F,$isHovering:y,onClick:()=>{h(b.n.slice.actions.setActiveSidebar({type:p.a,key:e}))},onMouseOver:()=>{I(!0)},onMouseLeave:()=>I(!1),ref:g}:{}),z=Object(r.c)(e=>b.n.getMobileDesktopType(e))===p.e;return((e,t,o,n)=>{var r,i,a,l,s;const c=(null==(r=e.rows)?void 0:r.length)>0,d=(null==e||null==(i=e.data)||null==(a=i.styling)?void 0:a.backgroundImage)||(null==e||null==(l=e.data)||null==(s=l.styling)?void 0:s.backgroundColor);return!!c||(o?!n||t:!!d&&(!Object(nt.a)()||t))})(C,(null==v?void 0:v.displayOnMobile)||!1,x,z)?n.default.createElement(n.default.Fragment,null,n.default.createElement(lt,l()({$minWidth:F,$backgroundImage:N,$backgroundColor:D,$columnMargin:_,$columnPadding:E,$minimumHeight:k,$isSideImageColumn:$},null!=N&&N.altText?{title:null==N?void 0:N.altText}:{},W),x&&(y||A)&&$?n.default.createElement(n.default.Fragment,null,n.default.createElement(it,{$columnWidth:V-F,$columnPosition:C.position,$isSelected:A},"Side Image"),n.default.createElement(at,{width:F,$isSelected:A,$viewBorderWidth:M})):null,x&&!N&&!D&&$?n.default.createElement(rt,{isSideImage:!0}):null==w?void 0:w.map(e=>n.default.createElement(ot,{key:e,rowId:e,formVersionCId:t})))):null};var ct=(e,t)=>e/(e+1)*t;const dt={left:"float: left",center:"margin: 0 auto",right:"float: right"},mt=Object(c.c)(m.c).withConfig({displayName:"View__FormView",componentId:"sc-1i2s79a-0"})(["display:flex;flex-direction:row;box-sizing:border-box;overflow:",";"," "," border-style:",";border-width:","px;border-color:",";background-color:",";background-image:",";background-repeat:no-repeat;background-size:",";background-position-x:",";background-position-y:",";",";"],({$isEmbed:e})=>e?"visible":"hidden",({theme:{size:e,isMaxWidth:t,embedAlignment:o},$isEmbed:n,$sizeOverride:r})=>n?`width: 100%;\n        ${t?`max-width: ${e}px;`:""}\n        ${o?dt[o]+";":""}\n        `:`\n        width: ${r||e}px;\n        min-width: 200px;\n        max-width: 1000px;\n        `,({theme:e,$isDocked:t,$formTypeDirection:o})=>{return"border-radius: "+(n=e.borderRadius,r=o,t?null!=r&&r.includes("BOTTOM")?`${n}px ${n}px 0 0;`:`0 0 ${n}px ${n}px;`:n+"px;");var n,r},({theme:e})=>e.borderStyle,({theme:e})=>e.borderWidth||0,({theme:e})=>e.borderColor,({theme:e})=>e.backgroundColor,({theme:e})=>e.backgroundImage&&`url(${e.backgroundImage.url})`,({theme:e})=>e.backgroundImage&&("custom"===e.backgroundImage.position?e.backgroundImage.customWidth+"px;":e.backgroundImage.position),({theme:e})=>e.backgroundImage&&e.backgroundImage.alignment,({theme:e})=>{var t;return(null==(t=e.backgroundImage)?void 0:t.verticalAlignment)||"center"},({theme:{padding:{top:e,right:t,bottom:o,left:n}}})=>`\n  padding-top: ${e}px;\n  padding-right: ${t}px;\n  padding-bottom: ${o}px;\n  padding-left: ${n}px;\n  `),ut=Object(c.c)(e=>n.default.createElement(m.f,l()({type:"submit",tabIndex:"-1",value:"Submit"},e))).withConfig({displayName:"View__HiddenSubmit",componentId:"sc-1i2s79a-1"})(["&&&{display:none;}"]);var pt=({viewId:e,isEmbed:t,formVersionId:o,formVersionCId:i,isDocked:a,formTypeDirection:l})=>{var s,d;const m=Object(r.c)(e=>b.q.formVersionSelectById(e,o)),f=Object(r.c)(t=>b.B.getViewColumnIds(t,e)),h=Object(r.c)(e=>b.g.columnSelectAll(e)).filter(e=>f.includes(e.columnId)).sort((e,t)=>e.position-t.position),g=Object(r.c)(t=>b.i.getSubmitFormActionsFromView(t,e)),y=Object(r.c)(t=>b.B.getViewTheme(t,e)),I=Object(r.c)(e=>b.q.getFormVersionSideImage(e,o)),x=null==I||null==(s=I.data)||null==(d=s.styling)?void 0:d.sizeMultiplier,v=x?ct(x,y.size):0,w=Object(r.c)(t=>b.g.getViewColumns(t,e)).find(e=>e.position===(null==I?void 0:I.position)),C=Object(r.c)(b.e.isDesignWorkflow),S=Object(r.c)(e=>b.n.getMobileDesktopType(e))===p.e,O=((e,t,o,n,r)=>{var i,a,l,s;const c=!o&&(Object(nt.a)()&&!t||t&&r),d=!t&&e&&!(null!=n&&null!=(i=n.data)&&null!=(a=i.styling)&&a.backgroundImage||null!=n&&null!=(l=n.data)&&null!=(s=l.styling)&&s.backgroundColor);return c||d})(!!I,C,null==I?void 0:I.displayOnMobile,w,S),j=O?y.size-v:void 0,k=Object(n.useRef)(null);return Object(n.useEffect)(()=>{const e=k.current;m.formType===u.f&&e&&e.focus()},[k]),n.default.createElement(c.a,{theme:y},n.default.createElement(mt,{className:"klaviyo-form-version-cid_"+i,"data-testid":"klaviyo-form-"+m.formId,noValidate:!0,$isEmbed:t,ref:k,tabIndex:-1,$sizeOverride:j,onSubmit:async e=>{if(e.preventDefault(),1!==g.length)return!1;const{actionId:t}=g[0],o=ie({actionId:t,formVersionCId:i});return await new o({actionId:t,formVersionCId:i}).runAction(),!0},$isDocked:a,$formTypeDirection:l},h.map(t=>n.default.createElement(st,{key:t.columnId,columnId:t.columnId,formVersionCId:i,formVersionId:o,viewId:e,sideImageExistsAndHidden:O})),n.default.createElement(ut,null)))};const ft=Object(c.c)(m.b).withConfig({displayName:"ErrorView__ErrorViewWrapper",componentId:"sc-69p2vo-0"})(["width:",";height:165px;display:flex;justify-content:center;align-items:center;background:#ffffff;"],({isEmbed:e})=>e?"100%":"450px"),bt=Object(c.c)(m.b).withConfig({displayName:"ErrorView__ErrorText",componentId:"sc-69p2vo-1"})(["text-align:center;width:300px;"]);var ht=({isEmbed:e=!1})=>n.default.createElement(ft,{isEmbed:e},n.default.createElement(bt,null,"An error occured when submitting. Please try again later.")),gt=o("../forms/src/Constants/defaultTheme/clientThemeConstants.ts");const yt=Object(c.c)(m.k).attrs(()=>({tabIndex:0,alt:"Close form"})).withConfig({displayName:"CloseButton__StyledSvgInput",componentId:"sc-1mksxwr-0"})(["right:0;top:0;position:absolute;z-index:6;cursor:pointer;height:","px;width:","px;margin-right:","px;margin-top:","px;> *{cursor:pointer;}",""],({size:e})=>e,({size:e})=>e,({$margin:e})=>e.right,({$margin:e})=>e.top,({$isDesignWorkflow:e})=>e?"":"\n  :focus {\n    outline-width: 1px;\n    outline-style: solid;\n    outline-color: #4d90fe;\n  }\n\n  @media (-webkit-min-device-pixel-ratio: 0) {\n    :focus {\n      outline-color: -webkit-focus-ring-color;\n      outline-style: auto;\n    }\n  }\n  "),It=c.c.div.withConfig({displayName:"CloseButton__HoverFrame",componentId:"sc-1mksxwr-1"})(["box-shadow:0 0 0 2px ",";box-sizing:border-box;border-radius:4px;height:",";width:",";margin-top:",";margin-right:",";position:absolute;top:0;right:0;"],({theme:e,isSelected:t})=>t?e.klPrimary:e.klGrayDark,({size:e})=>e+"px",({size:e})=>e+"px",({$margin:e})=>e.top+"px",({$margin:e})=>e.right+"px");var xt=({formVersionId:e,onClick:t})=>{var o;const i=Object(r.b)(),[a,s]=Object(n.useState)(!1),c=!!Object(r.c)(b.n.getXButtonActive),d=Object(r.c)(b.e.isDesignWorkflow),m=gt.a.dismiss,u=null==(o=Object(r.c)(t=>b.q.getFormVersionDataStyling(t,e)))?void 0:o.dismissButtonStyles,f=Object(ae.a)({},m,u),h=f.size,g=a||c;return n.default.createElement(n.default.Fragment,null,g&&n.default.createElement(It,{size:h,isSelected:c,$margin:f.margin}),n.default.createElement(yt,l()({width:h,height:h,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t,"aria-describedby":"close-form",$isDesignWorkflow:d,size:h,$margin:f.margin},d&&{onClick:()=>{i(b.n.slice.actions.setActiveSidebar({type:p.d}))},onMouseOver:()=>{s(!0)},onMouseLeave:()=>s(!1)}),n.default.createElement("title",{id:"close-form"},"Close form"),n.default.createElement("circle",{cx:"10",cy:"10",r:"9.5",fill:f.backgroundColor,stroke:f.borderColor}),n.default.createElement("path",{d:"M6 6L14 14M6 14L14 6L6 14Z",stroke:f.xColor,strokeWidth:f.xStroke,strokeLinecap:"round",strokeLinejoin:"round"})))},vt=o("../../node_modules/react-animations/lib/slideInLeft.js"),wt=o.n(vt),Ct=o("../../node_modules/react-animations/lib/slideInRight.js"),St=o.n(Ct),Ot=o("../../node_modules/react-animations/lib/slideInUp.js"),jt=o.n(Ot),kt=o("../../node_modules/react-animations/lib/slideInDown.js"),$t=o.n(kt),_t=o("../../node_modules/react-animations/lib/fadeIn.js"),Et=o.n(_t);const Tt={LEFT:wt.a,TOP_CENTER:$t.a,BOTTOM_CENTER:jt.a,RIGHT:St.a},Vt=({formTypeDirection:e,modalScale:t})=>{const o={TOP:"top: 0;",CENTER:`\n    top: 50%; \n    transform: scale(${t}) translateY(-50%);\n    margin-top: auto; \n    margin-bottom: auto;\n    `,BOTTOM:"bottom: 0;"},n={LEFT:"left: 0;",CENTER:`\n    left: 50%; \n    transform: scale(${t}) translateX(-50%);\n    margin-left: auto; \n    margin-right: auto;\n    `,RIGHT:"right: 0;"};return`\n${o[Object.keys(o).find(t=>e&&e.startsWith(t))]}\n${n[Object.keys(n).find(t=>e&&e.endsWith(t))]}\n  `},Ft=Object(c.c)(m.b).withConfig({displayName:"animation__AnimatedModal",componentId:"sc-17sps2-0"})(["",";"],({$formType:e,$formTypeDirection:t})=>(({formType:e,formTypeDirection:t})=>{const o=e===u.f?Object(c.d)(["",""],Et.a):Object(c.d)(["",""],Tt[Object.keys(Tt).find(e=>t&&t.endsWith(e))]);return Object(c.b)(["animation:"," ",";"],e===u.f?"0.5s":"1.5s",o)})({formType:e,formTypeDirection:t}));var Nt=()=>window.matchMedia("(orientation: landscape)").matches;var Dt=(e,t)=>{var o,n;let r=e.formType===u.e&&[u.c,u.b].includes(null==(o=e.data)||null==(n=o.flyoutOptions)?void 0:n.docking);Object(nt.a)()&&Nt()&&(r=!1);let i=e.formTypeDirection||null;var a,l;r&&t&&(i=(null==(a=e.data)||null==(l=a.flyoutOptions)?void 0:l.docking)===u.c?u.g:u.a);return{isDocked:r&&t,evaluatedFormTypeDirection:i}};const At=Object(c.c)(m.b).withConfig({displayName:"ModalContent__MarginBox",componentId:"sc-1omu75e-0"})(["position:relative;flex-direction:column;display:flex;"," "," ",""],({$formMargin:e})=>null!=e&&e.top?`\n    ::before {\n      content: '';\n      display: block;\n      height: ${e.top}px;\n      width: 100%;\n    }\n  `:"",({$formMargin:e})=>null!=e&&e.bottom?`\n    ::after {\n      content: '';\n      display: block;\n      height: ${e.bottom}px;\n      width: 100%;\n    }\n  `:"",({$formMargin:e})=>e?`\n    margin-left: ${e.left||0}px;\n    margin-right: ${e.right||0}px;\n  `:""),Mt=Object(c.c)(m.b).withConfig({displayName:"ModalContent__ViewContainer",componentId:"sc-1omu75e-1"})(["position:relative;display:flex;"]),Wt=Object(c.c)(m.b).withConfig({displayName:"ModalContent__StyledModalContent",componentId:"sc-1omu75e-2"})(["border-radius:5px;border-radius:","px;position:relative;"," outline:0;display:flex;justify-content:center;flex:0 0 auto;"],({$borderRadius:e})=>e||d.a.theme.borderRadius,({$formType:e})=>e===u.f?"align-self: center;":""),zt=Object(c.c)(m.b).withConfig({displayName:"ModalContent__DropShadowContainer",componentId:"sc-1omu75e-3"})([""," ",""],({$dropShadow:e})=>e&&e.enabled?`\n    box-shadow: 0px 0px ${e.blur}px ${e.color};\n  `:"",({$borderRadius:e})=>e?`\n      border-radius: ${e}px; \n  `:"");var Pt=({closePortal:e,formVersionCId:t})=>{var o,i;const a=Object(r.c)(e=>b.u.openFormVersionSelectById(e,t)),l=Object(r.c)(e=>b.q.formVersionSelectById(e,a.formVersionId)),s=Object(r.c)(e=>b.q.getFormVersionDismissalConfig(e,l.formVersionId)),c=Object(r.c)(b.n.getMobileDesktopType),d=Object(r.c)(b.e.isDesignWorkflow),m=Object(r.c)(b.u.getTopModalCId),h=Object(r.c)(e=>b.B.getViewDataStylingBorderRadius(e,a.currentViewId)),g=Object(r.c)(e=>b.B.getViewDataStylingDropShadow(e,a.currentViewId)),[y,I]=Object(n.useState)(),x=Object(n.useRef)(null);Object(n.useEffect)(()=>{I(Object(f.a)("modal_animation_key"))},[l.formType,l.formTypeDirection,c]),Object(n.useEffect)(()=>{const o=o=>{var n,r,i;null!=(n=x.current)&&n.contains(o.target)||d||t!==m||null===e||(r=l.formType,void 0!==(i=s)&&r===u.f&&(Object(nt.a)()?!0===(null==i?void 0:i.mobile):!0===(null==i?void 0:i.desktop)))||e()};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o)}},[d,t,m,e,s]);const{isDocked:v,evaluatedFormTypeDirection:w}=Dt(l,d?c===p.e:Object(nt.a)());return y?n.default.createElement(Wt,{ref:x,$borderRadius:h,$formType:l.formType,$mobileDesktopType:c,$isDesignWorkflow:d,$margin:null==(o=l.data)||null==(i=o.styling)?void 0:i.margin,"data-testid":c,$formTypeDirection:w,$isDocked:v},n.default.createElement(n.Suspense,{fallback:n.default.createElement("div",null)},n.default.createElement(Ft,{key:y,$formType:l.formType,$formTypeDirection:w,"data-testid":l.formType},(C=n.default.createElement(zt,{$dropShadow:g,$borderRadius:h},n.default.createElement(Mt,null,n.default.createElement(xt,{formVersionId:a.formVersionId,onClick:e}),a.showErrorView?n.default.createElement(ht,null):n.default.createElement(pt,{formVersionCId:t,formVersionId:a.formVersionId,viewId:a.currentViewId,isDocked:v,formTypeDirection:w}))),v?C:n.default.createElement(At,{$formMargin:null==(S=l.data)||null==(O=S.styling)?void 0:O.margin},C))))):null;var C,S,O};const{MobilePhoneFrame:Rt,MOBILE_FRAME_WEB_VARIANT:Ht}={MobilePhoneFrame:()=>null,MOBILE_FRAME_WEB_VARIANT:()=>null},Bt=Object(c.b)(["",""],({formType:e,overlayColor:t,formTypeDirection:o,isDesignWorkflow:n,modalScale:r,isQuickstart:i,mobileOverlay:a,isDocked:l})=>`\n  position: relative;\n  justify-content: center;\n  align-items: ${((e,t)=>e===u.e&&t?t.startsWith("BOTTOM")?"flex-end":t.startsWith("CENTER")?"center":"flex-start":"center")(e,o)};\n  background-color: ${e===u.e?(null==a?void 0:a.enabled)&&(null==a?void 0:a.color)||"transparent":t};\n  align-self: center;\n  height: 100%;\n  \n  \n  width: ${i?"320px;":"100%;"}\n  \n  & > div {\n    position: absolute;\n    transform: scale(${r});\n    transform-origin: ${e===u.e&&o?""+(o.startsWith("BOTTOM")?"bottom":"top"):"center"};\n    max-height: ${n?"100%":100/r+"%"};\n    ${e!==u.e||l||1!==r?"":`\n    position: absolute;\n    ${Vt({formTypeDirection:o,modalScale:r})}\n    `} \n`),Lt=Object(c.b)(["",""],({formTypeDirection:e,isDesignWorkflow:t,modalScale:o})=>`\n      max-height: ${t?"100%":100/o+"%"};\n      position: ${t?"absolute":"fixed"};\n      transform: scale(${o});\n      transform-origin: \n      ${e&&e.endsWith("RIGHT")?"right":"left"} \n      ${e&&e.startsWith("BOTTOM")?"bottom":"top"}\n      ;\n      ${Vt({formTypeDirection:e,modalScale:o})}\n      overflow: ${t?"initial":"visible"};\n  `),qt=Object(c.c)(m.b).withConfig({displayName:"Modal__StyledOverlay",componentId:"sc-9h204v-0"})(["",""],({$mobileOverlay:e})=>e&&e.enabled?`\n    background-color: ${e.color};\n    height: 100%;\n    width: 100%;\n    left: 0;\n    top: 0;\n    position: fixed;\n    z-index: 90000;\n  `:""),Ut=Object(c.b)(["",""],({overlayColor:e,isDesignWorkflow:t,modalScale:o,formType:n})=>`\n  position: ${t?"initial":"fixed"};\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      justify-content: center;\n      align-items: ${t?"flex-start":"center"};\n      overflow: auto;\n      background-color: ${n===u.e?"transparent":e};\n      & > div {\n        overflow: ${t?"initial":"visible"};\n        transform: scale(${o});\n        transform-origin: center;\n        max-height: ${t?"100%":100/o+"%"};\n      }\n  `),Gt=Object(c.c)(({children:e,className:t})=>n.default.createElement(m.b,{className:t},e)).withConfig({displayName:"Modal__ModalPortalStyled",componentId:"sc-9h204v-1"})(["display:flex;-webkit-overflow-scrolling:touch;::-webkit-scrollbar{width:0px;height:0px;background:transparent;}z-index:",";",";"],({isDesignWorkflow:e})=>e?"0":9e4,({formType:e,isDesignWorkflow:t,mobileDesktopType:o})=>o===p.e&&t?Bt:e===u.e?Lt:Ut),Jt=Object(c.c)(Rt).withConfig({displayName:"Modal__StyledMobilePhoneFrame",componentId:"sc-9h204v-2"})(["align-self:center;z-index:1;"]);var Kt=({formVersionCId:e,closePortal:t})=>{var o,i,a,l;const s=Object(r.c)(t=>b.u.openFormVersionSelectById(t,e)),c=Object(r.c)(e=>b.q.formVersionSelectById(e,s.formVersionId));let f=Object(r.c)(e=>b.B.getViewDataStylingSize(e,s.currentViewId))||d.a.theme.size;const h=Object(r.c)(e=>b.q.getFormVersionSideImage(e,s.formVersionId)),g=null==h||null==(o=h.data)||null==(i=o.styling)?void 0:i.sizeMultiplier,y=g?ct(g,f):0,I=Object(r.c)(b.e.isDesignWorkflow),x=Object(r.c)(b.n.getMobileDesktopType),v=x===p.e&&I,w=Object(r.c)(b.n.getDesignerType)===p.g,C=Object(r.c)(b.n.getCompanyUrl),{isDocked:S,evaluatedFormTypeDirection:O}=Dt(c,I?x===p.e:Object(nt.a)());(Object(nt.a)()||v)&&h&&!h.displayOnMobile&&(f-=y);const j=null==(a=c.data)||null==(l=a.styling)?void 0:l.margin,k=S?0:(null==j?void 0:j.left)||0,$=S?0:(null==j?void 0:j.right)||0,_=Math.max(Math.min(parseInt(f.toString(),10),1e3),200)+$+k,E=Object(r.c)(e=>b.B.getViewDataStylingOverlayColor(e,s.currentViewId))||d.a.theme.overlayColor,T=Object(r.c)(e=>{var t;return null==(t=b.B.getViewDataStyling(e,s.currentViewId))?void 0:t.mobileOverlay})||d.a.theme.mobileOverlay,V=Object(r.c)(b.e.isFetchingForms),[F,N]=Object(n.useState)(1);Object(n.useEffect)(()=>{const e=()=>{const e=w?p.h:p.f,t=v?e:window.innerWidth,o=S?t/_:Math.min(t/_,1);N(o)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[_,x]);const D=n.default.createElement(n.default.Fragment,null,n.default.createElement(Jt,{type:Ht,headerText:C},n.default.createElement(Gt,{className:"klaviyo-form",isDesignWorkflow:I,formType:c.formType,formTypeDirection:O,overlayColor:E,mobileOverlay:T,modalScale:F,mobileDesktopType:x,isQuickstart:w,isDocked:S},V?n.default.createElement(m.h,null,"Loading..."):n.default.createElement(Pt,{closePortal:t,formVersionCId:e})))),A=n.default.createElement(n.default.Fragment,null,n.default.createElement(Gt,{className:"klaviyo-form",isDesignWorkflow:I,formType:c.formType,formTypeDirection:c.formTypeDirection,overlayColor:E,modalScale:F,mobileDesktopType:x,isQuickstart:w},V?n.default.createElement(m.h,null,"Loading..."):n.default.createElement(Pt,{closePortal:t,formVersionCId:e})));return v?w?A:D:(M=c.formType===u.e&&Object(nt.a)()&&(null==T?void 0:T.enabled),W=n.default.createElement(Gt,{className:"klaviyo-form",isDesignWorkflow:I,formType:c.formType,formTypeDirection:O,overlayColor:E,modalScale:F,mobileDesktopType:x,isQuickstart:w},V?n.default.createElement(m.h,null,"Loading..."):n.default.createElement(Pt,{closePortal:t,formVersionCId:e})),M?n.default.createElement(qt,{$mobileOverlay:T},W):W);var M,W},Qt=o("../forms/src/Constants/defaultTheme/index.ts");var Yt=e=>n.default.createElement(c.a,l()({},e,{theme:e=>Object(ae.a)({},e,Qt.c)}));var Xt=({formVersionCId:e,node:t})=>{const o=Object(r.b)(),i=Object(r.c)(b.e.isDesignWorkflow);return i&&null===t?null:n.default.createElement(Yt,null,n.default.createElement(s.a,{key:e,defaultOpen:!0,onClose:()=>o(b.u.closeForm({formVersionCId:e})),closeOnEsc:!i,node:i?t:void 0},({closePortal:t,portal:o})=>[o(n.default.createElement(Kt,{formVersionCId:e,closePortal:i?()=>{}:t}))]))};const Zt=Object(c.c)(m.b).withConfig({displayName:"Embed__StyledDiv",componentId:"sc-1h73wx3-0"})(["transform:translate(0,0);"]);var eo=({node:e,formVersionCId:t})=>{const o=Object(r.c)(e=>b.u.openFormVersionSelectById(e,t)),i=e||document.querySelector(`div.klaviyo-form-${o.formId}.form-version-cid-${t}`);return i?Object(n.createPortal)(o.currentViewId?n.default.createElement(Yt,null,o.showErrorView?n.default.createElement(ht,{isEmbed:!0}):n.default.createElement(Zt,null,n.default.createElement(pt,{formVersionCId:t,formVersionId:o.formVersionId,viewId:o.currentViewId,isEmbed:!0,key:t}))):null,i):null};var to=()=>{const e=Object(r.c)(b.u.openFormVersionSelectIds),t=Object(r.c)(b.u.getOpenEmbedFormVersionIds);return n.default.createElement(n.Suspense,{fallback:n.default.createElement("div",null)},e.map(e=>{const o={formVersionCId:e};return t.includes(e)?n.default.createElement(eo,l()({key:e},o)):n.default.createElement(Xt,l()({key:e},o))}))};t.default=()=>{const e=document.createElement("div");e.setAttribute("id","dynamic-react-root"),document.body.appendChild(e),Object(n.render)(n.default.createElement(r.a,{store:i.a},n.default.createElement(to,null)),e)}}}]);
