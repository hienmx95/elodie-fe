"use strict";Shopify.theme.jsProduct={init:function t(e){Shopify.theme.jsProduct=$.extend(this,Shopify.theme.getSectionData(e));var i=e.find(".product-gallery__main");var a=e.find(".sticky-product-scroll");var o;"image-scroll"===this.template?(isScreenSizeLarge()&&this.enableStickyScroll(a),this.enable_zoom&&this.enableZoom(i),this.enable_product_lightbox&&this.enableLightbox(i)):"classic"===this.template||"featured-product-section"===this.template||"sections"===this.template?(this.enableSlideshow(i),this.enable_zoom&&this.enableZoom(i),this.enable_product_lightbox&&this.enableLightbox(i)):"featured-slideshow"===this.template&&this.enableFeaturedSlideshow(i),$(".product_form_options").each((function(){new Shopify.OptionSelectors($(this).data("select-id"),{product:$(this).data("product"),onVariantSelected:selectCallback,enableHistoryState:$(this).data("enable-state")})})),"?contact_posted=true"===window.location.search&&($(".notify_form .contact-form").hide(),$(".notify_form .contact-form").prev(".message").html(Shopify.translation.notify_form_success)),$(".notify_form .contact-form").each((function(){var t=$(this);t.on("submit",(function(e){"true"!==$('input[name="challenge"]',t).val()&&($.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),success:function e(i){t.fadeOut("slow",(function(){t.prev(".message").html(Shopify.translation.notify_form_success)}))},error:function e(i){$('input[name="challenge"]',t).val("true"),t.submit()}}),e.preventDefault())}))})),"swatches"===Shopify.theme_settings.product_form_style?this.enableProductSwatches():"dropdown"===Shopify.theme_settings.product_form_style&&$(".selector-wrapper select",e).wrap('<span class="select"></span>'),$(".masonry--true").length>0&&Shopify.theme.applyMasonry(".thumbnail")},enableStickyScroll:function t(e){var i=0;var a=0;var o;var s;$(".product-gallery").outerHeight()>$(".sticky-product-scroll").outerHeight()&&("undefined"!=typeof Shopify.theme.jsAnnouncementBar&&Shopify.theme.jsAnnouncementBar.enable_sticky&&(i=$("#announcement-bar").outerHeight()),"vertical"!=Shopify.theme_settings.header_layout&&Shopify.theme.jsHeader.enable_sticky&&(a=$("#header").outerHeight()),e.stick_in_parent({offset_top:i+a+20}))},enableLightbox:function t(e){e.find(".product-gallery__link").fancybox()},enableZoom:function t(e){e.find("img").wrap('<span class="zoom-container"></span>').css("display","block").parent().zoom({touch:!1,magnify:1})},disableSlideshow:function t(e){var i;e.find(".flickity-enabled").flickity("destroy")},enableFeaturedSlideshow:function t(e){var i=e.flickity({wrapAround:!0,setGallerySize:!1,dragThreshold:10,imagesLoaded:!0,pageDots:!1,prevNextButtons:this.product_images_amount>1&&this.gallery_arrows,autoPlay:1e3*this.slideshow_speed,arrowShape:arrowShape});i.on("staticClick.flickity",(function(t,e,a,o){void 0!==o&&i.flickity("select",o)}))},enableSlideshow:function t(e){var i=e.parents(".product-gallery").find(".product-gallery__thumbnails");e.flickity({wrapAround:!0,adaptiveHeight:!0,dragThreshold:10,imagesLoaded:!0,pageDots:this.product_images_amount>1,prevNextButtons:this.product_images_amount>1&&this.gallery_arrows,autoPlay:1e3*this.slideshow_speed,fade:"fade"===this.slideshow_transition,arrowShape:arrowShape});var a=e.data("flickity");if(!0===this.enable_thumbnail_slider&&this.product_images_amount>1)if("right-thumbnails"==this.thumbnail_position||"left-thumbnails"==this.thumbnail_position){i.css("max-height",e.closest("product-gallery").outerHeight());var o=i.find(".product-gallery__thumbnail");i.addClass("vertical-slider-enabled"),i.on("click",".product-gallery__thumbnail",(function(t){var i=$(t.currentTarget).index();e.flickity("select",i)}));var s=o.height();var r=i.height();e.on("select.flickity",(function(){var t;i.find(".is-nav-selected").removeClass("is-nav-selected");var e=o.eq(a.selectedIndex).addClass("is-nav-selected").position().top+i.scrollTop()-(r+s)/2;i.animate({scrollTop:e})}))}else i.flickity({cellAlign:"center",contain:!0,groupCells:"100%",imagesLoaded:!0,pageDots:!1,prevNextButtons:this.product_images_amount>5&&this.thumbnail_arrows,asNavFor:e[0],arrowShape:arrowShape}),setTimeout((function(){i.flickity("resize")}),250);$(".product-gallery__thumbnail").on("click",(function(t){var i=$(this).find("img").data("index");e.flickity("select",i)}))},enableProductSwatches:function t(){if($("body").on("change",".swatch :radio",(function(){var t=$(this).closest(".swatch").attr("data-option-index");var e=$(this).val();var i=$(this).closest(".product_form form");if(i.siblings(".notify_form").length)var a=i.siblings(".notify_form");else var a=$(".js-notify-form");var o=i.find(".swatch_options input:checked").eq(0).val();var s=i.find(".swatch_options input:checked").eq(1).val()||"";var r=i.find(".swatch_options input:checked").eq(2).val()||"";if(o&&s&&r)var n=o+" / "+s+" / "+r;else if(o&&s)var n=o+" / "+s;else var n=o;a.find(".notify_form_message").attr("value",a.find(".notify_form_message").data("body")+" - "+n),$(this).closest("form").find(".single-option-selector").eq(t).val(e).trigger("change")})),$(".js-product_section").length){var e=$(".js-product_section").find(".product_form");e.addClass("is-visible"),e.each((function(){var t=$(this).data("product");var e;var i=".product-"+$(this).data("product-id")+" .js-product_section";var a;$(this).find(".swatch_options .swatch").length>1&&Shopify.linkOptionSelectors(t,i)}))}$(".js-product_section").length>1&&$("body").on("click",".swatch-element",(function(){var t=$(this).data("value").toString();$(this).siblings('input[value="'+t.replace(/\"/g,'\\"')+'"]').prop("checked",!0).trigger("change");var e=$(this).parents(".product_form").data("product");var i;var a=".product-"+$(this).parents(".product_form").data("product-id")+" .js-product_section";var o;$(this).parents(".product_form").find(".swatch_options .swatch").length>1&&Shopify.linkOptionSelectors(e,a)}))},scrollSelectedImage:function t(e){var i=0;var a=0;1==Shopify.theme.jsHeader.enable_sticky&&"vertical"!=Shopify.theme_settings.header_layout&&(i=Shopify.theme.jsHeader.getHeaderHeight()),"undefined"!=typeof Shopify.theme.jsAnnouncementBar&&1==Shopify.theme.jsAnnouncementBar.enable_sticky&&"vertical"!=Shopify.theme_settings.header_layout&&(a=Shopify.theme.jsAnnouncementBar.getAnnouncementHeight());var o=i+a;Shopify.theme.scrollToTop($('[data-index="'.concat(e,'"]')),o)},relatedProducts:function t(){$(".js-related-products-slider .products-slider").each((function(t,e){var i=$(this);var a={products_per_slide:i.data("products-per-slide"),products_available:i.data("products-available"),products_limit:i.data("products-limit"),initialIndex:0,cellAlign:"left",wrapAround:!0};a.products_available>a.products_per_slide&&a.products_limit>a.products_per_slide?a.wrapAround=!0:a.wrapAround=!1,a.products_available<a.products_per_slide||a.products_limit<a.products_per_slide?(i.addClass("container is-justify-center"),i.find(".gallery-cell").addClass("column")):i.flickity({lazyLoad:2,freeScroll:!0,imagesLoaded:!0,draggable:!0,cellAlign:"center",wrapAround:a.wrapAround,pageDots:!1,contain:!0,prevNextButtons:a.products_limit>a.products_per_slide,initialIndex:a.initialIndex,arrowShape:arrowShape,on:{ready:function t(){setTimeout((function(){i.flickity("resize")}),500)}}})}))},unload:function t(e){$(".selector-wrapper select",e).unwrap(),this.disableSlideshow(e)}};
//# sourceMappingURL=/s/files/1/0343/4964/5869/t/5/assets/z__jsProduct.js.map?v=3709433985223094396
